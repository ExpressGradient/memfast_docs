<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MemFast</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="about.html"><strong aria-hidden="true">2.</strong> About</a></li><li class="chapter-item expanded "><a href="get-started.html"><strong aria-hidden="true">3.</strong> Get Started</a></li><li class="chapter-item expanded "><a href="commands/index.html"><strong aria-hidden="true">4.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/set.html"><strong aria-hidden="true">4.1.</strong> SET</a></li><li class="chapter-item expanded "><a href="commands/get.html"><strong aria-hidden="true">4.2.</strong> GET</a></li><li class="chapter-item expanded "><a href="commands/delete.html"><strong aria-hidden="true">4.3.</strong> DEL</a></li><li class="chapter-item expanded "><a href="commands/exists.html"><strong aria-hidden="true">4.4.</strong> EXISTS</a></li><li class="chapter-item expanded "><a href="commands/len.html"><strong aria-hidden="true">4.5.</strong> LEN</a></li><li class="chapter-item expanded "><a href="commands/isempty.html"><strong aria-hidden="true">4.6.</strong> ISEMPTY</a></li><li class="chapter-item expanded "><a href="commands/clear.html"><strong aria-hidden="true">4.7.</strong> CLEAR</a></li><li class="chapter-item expanded "><a href="commands/dump.html"><strong aria-hidden="true">4.8.</strong> DUMP</a></li><li class="chapter-item expanded "><a href="commands/net.html"><strong aria-hidden="true">4.9.</strong> NET</a></li><li class="chapter-item expanded "><a href="commands/setsync.html"><strong aria-hidden="true">4.10.</strong> SETSYNC</a></li></ol></li><li class="chapter-item expanded "><a href="performance-benchmark.html"><strong aria-hidden="true">5.</strong> Performance Benchmark</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MemFast</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="memfast-key-value-datastore"><a class="header" href="#memfast-key-value-datastore">MemFast Key-Value DataStore</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>MemFast is an In-Memory Key-Value DataStore built with <a href="https://rust-lang.org/">Rust Lang</a> and <a href="https://github.com/tokio-rs/axum">Axum.rs</a>. It is very fast and simple to use.</p>
<blockquote>
<p><strong>Note:</strong> The project is still in Alpha.</p>
</blockquote>
<h3 id="features"><a class="header" href="#features">Features</a></h3>
<ul>
<li>Fast (Benchmarks coming soon)</li>
<li>No Driver required</li>
<li>Supports Serverless</li>
<li>Persistence (Partial)</li>
<li>Key Synchronization (Naive)</li>
<li>more to come...</li>
</ul>
<h2 id="libraries-used"><a class="header" href="#libraries-used">Libraries used:</a></h2>
<ul>
<li><a href="https://github.com/tokio-rs/axum">Axum.rs</a></li>
<li><a href="https://github.com/xacrimon/dashmap">DashMap</a></li>
<li><a href="https://tokio.rs/">Tokio.rs</a></li>
<li><a href="https://serde.rs/">Serde</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="about-memfast"><a class="header" href="#about-memfast">About MemFast</a></h1>
<p>MemFast is a super fast and simple to use Key-Value store built in Rust Lang and Axum.rs.</p>
<h3 id="fast-and-memory-safety"><a class="header" href="#fast-and-memory-safety">Fast and Memory Safety</a></h3>
<p>All because of Rust's Memory Safety and Axum's Speed.</p>
<h3 id="serverless"><a class="header" href="#serverless">Serverless</a></h3>
<p>Traditional Key-Value stores like Redis are not Serverless by default. But MemFast includes a simple POST endpoint that can be used to send queries from a Serverless Context.</p>
<h3 id="driverless"><a class="header" href="#driverless">Driverless</a></h3>
<p>MemFast exposes two simple services: WS and POST. Use WS for continuous queries and POST for one-off queries.</p>
<h3 id="lazy-persistence"><a class="header" href="#lazy-persistence">Lazy Persistence</a></h3>
<p>MemFast can dump all the Key-Value pairs into a CSV file on demand.</p>
<h3 id="key-synchronization"><a class="header" href="#key-synchronization">Key Synchronization</a></h3>
<p>MemFast has the ability to synchronize keys between multiple MemFast instances.</p>
<h2 id="basic-architecture"><a class="header" href="#basic-architecture">Basic Architecture</a></h2>
<p><img src="images/architecture.png" alt="Architecture Image" /></p><div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>There are two ways to install MemFast:</p>
<ul>
<li><a href="https://github.com/ExpressGradient/memfast/releases/tag/v0.2.0-alpha.1">Windows Executable</a></li>
<li><a href="https://github.com/ExpressGradient/memfast">Build from Source</a></li>
</ul>
<p>Specify the Port as a first argument while running the executable or build from source.</p>
<h2 id="connect-to-memfast"><a class="header" href="#connect-to-memfast">Connect to MemFast</a></h2>
<p>There are two ways to connect to a MemFast instance:</p>
<ul>
<li>WebSocket Endpoint</li>
<li>POST Endpoint</li>
</ul>
<h2 id="making-queries"><a class="header" href="#making-queries">Making Queries</a></h2>
<ul>
<li>From WebSocket Endpoint: Send the query as a simple text message.</li>
</ul>
<pre><code>SET key value
</code></pre>
<ul>
<li>From POST Endpoint: Send the query as a JSON object.</li>
</ul>
<pre><code class="language-json">{
  &quot;query&quot;: &quot;SET key value&quot;,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commands"><a class="header" href="#commands">Commands</a></h1>
<p>MemFast ships with commands for basic CRUD operations and lazy persistence and key synchronization. These include: </p>
<ul>
<li>SET</li>
<li>GET</li>
<li>DEL</li>
<li>EXISTS</li>
<li>LEN</li>
<li>ISEMPTY</li>
<li>CLEAR</li>
<li>DUMP</li>
<li>NET</li>
<li>SETSYNC</li>
</ul>
<p>All the commands are case-sensitive.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="set"><a class="header" href="#set">SET</a></h1>
<p>To set a Key-Value pair in the data store use the SET command.</p>
<h3 id="syntax"><a class="header" href="#syntax">Syntax:</a></h3>
<pre><code>SET &lt;key&gt; &lt;value&gt;
</code></pre>
<h3 id="example"><a class="header" href="#example">Example:</a></h3>
<p>This would set <code>world</code> to <code>hello</code>:</p>
<pre><code>Command: SET hello world
Returns: Inserted!
</code></pre>
<p>To update <code>hello</code> to <code>universe</code>, use the SET command again:</p>
<pre><code>Command: SET hello universe
Returns: world
</code></pre>
<p>This command returns the previous value of <code>hello</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get"><a class="header" href="#get">GET</a></h1>
<p>To get the Value associated with a Key use the GET command.</p>
<h3 id="syntax-1"><a class="header" href="#syntax-1">Syntax:</a></h3>
<pre><code>GET &lt;key&gt;
</code></pre>
<h3 id="example-1"><a class="header" href="#example-1">Example:</a></h3>
<pre><code>Command: GET hello
Returns: universe
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="del"><a class="header" href="#del">DEL</a></h1>
<p>To delete a Key-Value pair in the data store use the DEL command.</p>
<h3 id="syntax-2"><a class="header" href="#syntax-2">Syntax:</a></h3>
<pre><code>DEL &lt;key&gt;
</code></pre>
<h3 id="example-2"><a class="header" href="#example-2">Example:</a></h3>
<pre><code>Command: DEL hello
Returns: Deleted!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exists"><a class="header" href="#exists">EXISTS</a></h1>
<p>Check if a key exists in the data store.</p>
<h3 id="syntax-3"><a class="header" href="#syntax-3">Syntax:</a></h3>
<pre><code>EXISTS &lt;key&gt;
</code></pre>
<h3 id="examples"><a class="header" href="#examples">Examples:</a></h3>
<pre><code>Command: EXISTS hello
Returns: false
</code></pre>
<pre><code>Command: SET hello world
Command: EXISTS hello
Returns: true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="len"><a class="header" href="#len">LEN</a></h1>
<p>Get the total number of keys in the data store.</p>
<h3 id="syntax-4"><a class="header" href="#syntax-4">Syntax:</a></h3>
<pre><code>LEN
</code></pre>
<h3 id="example-3"><a class="header" href="#example-3">Example:</a></h3>
<pre><code>Command: LEN
Returns: 1
</code></pre>
<p>Returns 1 because there is only one key(<code>hello</code>) in the data store.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isempty"><a class="header" href="#isempty">ISEMPTY</a></h1>
<p>Check if the data store is empty.</p>
<h3 id="syntax-5"><a class="header" href="#syntax-5">Syntax:</a></h3>
<pre><code>ISEMPTY
</code></pre>
<h3 id="example-4"><a class="header" href="#example-4">Example:</a></h3>
<pre><code>Command: ISEMPTY
Returns: false
</code></pre>
<p>Command returns <code>false</code> because the key <code>hello</code> exists in the data store.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clear"><a class="header" href="#clear">CLEAR</a></h1>
<p>Clears/Empties the data store.</p>
<h3 id="syntax-6"><a class="header" href="#syntax-6">Syntax:</a></h3>
<pre><code>CLEAR
</code></pre>
<h3 id="example-5"><a class="header" href="#example-5">Example:</a></h3>
<pre><code>Command: CLEAR
Returns: Cleared!

Command: ISEMPTY
Returns: true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dump"><a class="header" href="#dump">DUMP</a></h1>
<p>Dumps all the Key-Value pairs into a CSV file on demand.</p>
<h3 id="syntax-7"><a class="header" href="#syntax-7">Syntax</a></h3>
<pre><code>DUMP &lt;path-to-file&gt;
</code></pre>
<h3 id="example-6"><a class="header" href="#example-6">Example:</a></h3>
<pre><code>Command: SET name Sheldon
Command: SET friend Leonard
Command: SET wife Amy

Command: DUMP dump.csv
Returns: Dumped!
</code></pre>
<p>The table below shows the Key-Value pairs in the <code>dump.csv</code> file.</p>
<table>
    <tr>
        <th>Key</th>
        <th>Value</th>
    </tr>
    <tr>
        <td>name</td>
        <td>Sheldon</td>
    </tr>
    <tr>
        <td>friend</td>
        <td>Leonard</td>
    </tr>
    <tr>
        <td>wife</td>
        <td>Amy</td>
</table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="net"><a class="header" href="#net">NET</a></h1>
<p>Creates a network of MemFast nodes that needs to be synchrnoized.</p>
<h3 id="syntax-8"><a class="header" href="#syntax-8">Syntax:</a></h3>
<pre><code>NET &lt;name&gt; &lt;num-of-nodes&gt; [...&lt;node-ip&gt;]
</code></pre>
<h3 id="example-7"><a class="header" href="#example-7">Example:</a></h3>
<pre><code>Command: NET dummy_net 2 http://localhost:3030 http://localhost:3031
Returns: Created!
</code></pre>
<p>This command creates <code>dummy_net</code> network with 2 nodes. To be used with <code>SETSYNC</code> command.</p>
<blockquote>
<p>Note: Make sure that the nodes are running before running this command.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setsync"><a class="header" href="#setsync">SETSYNC</a></h1>
<p>Set a Key-Value pair and sync it to other nodes in the network.</p>
<h3 id="syntax-9"><a class="header" href="#syntax-9">Syntax:</a></h3>
<pre><code>SETSYNC &lt;network-name&gt; &lt;key&gt; &lt;value&gt;
</code></pre>
<h3 id="example-8"><a class="header" href="#example-8">Example:</a></h3>
<p>Connect to <code>ws://localhost:3030</code> and set <code>hello</code> to <code>world</code>.</p>
<pre><code>Command: SETSYNC dummy_net hello world
Returns: Synced!
</code></pre>
<p>Now connect to <code>ws://localhost:3031</code> and check if <code>hello</code> is <code>world</code>.</p>
<pre><code>Command: GET hello
Returns: world
</code></pre>
<p>You can even change the value of <code>hello</code> from <code>3031</code> node and sync it to other nodes.</p>
<pre><code>Command: SETSYNC dummy_net hello universe
Returns: Synced!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="performance-benchmark"><a class="header" href="#performance-benchmark">Performance Benchmark</a></h1>
<p>MemFast vs Redis SET Speeds:</p>
<p><img src="./images/speeds_vs_redis.png" alt="MemFast vs Redis"></p>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
